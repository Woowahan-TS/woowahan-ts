# 10장 상태 관리

## 10.1 상태 관리

### 1. 상태 (State)

> 상태 : 렌더링 결과에 영향을 주는 정보를 담은 순수 자바스크립트 객체

- 리액트에서 상태는 시간이 지나면서 변할 수 있는 동적인 데이터이다.
- 값이 변경될 때마다 컴포넌트 렌더링에 영향을 준다.
- 앱 내의 상태는 지역 상태, 전역 상태, 서버 상태로 분류할 수 있다.

#### 지역 상태 (Local State)

- 컴포넌트 내부에서 사용되는 상태이다.

#### 전역 상태 (Global State)

- 앱 전체에서 공유하는 상태를 의미한다.
- 여러 개의 컴포넌트가 전역 상태를 사용할 수 있으며 상태 변경에 따라 업데이트가 같이 이루어진다.
- 지역 상태의 props drilling 문제를 피할 수 있다.

#### 서버 상태 (Server State)

- 사용자 정보 등 외부 서버에 저장해야 하는 상태들을 의미한다.
- UI 상태와 결합하여 관리하게 되며 로딩 여부나 에러 상태 등을 포함한다.

### 2. 상태를 잘 관리하기 위한 가이드

> 상태는 애플리케이션의 복잡성을 증가시키고 동작을 예측하기 어렵게 만든다.
> 상태가 변경되면 리렌더링이 발생하기 때문에 유지보수 및 성능 관점에서 상태를 남용하면 좋지 않다.

#### 상태를 정의할 때 고려해야 할 점

- 시간이 지나도 변하지 않는다면 상태가 아니다.
- 파생된 값은 상태가 아니다.

## 10.2 상태 관리 라이브러리

### 1. MobX

- 객체 지향 프로그래밍과 반응형 패러다임의 영향을 받은 라이브러리이다.
- 상태 변경 로직과 업데이트 로직을 단순하게 작성할 수 있는 장점이 있다.
- 데이터가 언제, 어떻게 변하는지 추적하기 어렵기 때문에 트러블슈팅이 힘들다는 단점이 있다.

### 2. Redux

- Redux 는 함수형 프로그래밍에 영향을 받은 라이브러리이다.
- 오랜 시간 많이 사용되어 왔기 때문에 다양한 요구 사항에 대해 충분히 검증되었다.
- 상태 변경 추적이 용이해 특정 상황에서 발생하는 문제 원인 파악에 좋다.
- 많은 보일러플레이트가 필요하고 러닝 커브가 높다는 단점이 있다.

### 3. Recoil

- 상태를 저장할 수 있는 Atom 과 상태를 변형할 수 있는 순수 함수 selector 를 통해 상태를 관리하는 라이브러리이다.
- 보일러플레이트가 적고 난이도가 쉽다.
- 라이브러리가 아직 실험적이라 충분히 검증이 이루어지지 않았다는 단점이 있다.

### 4. Zustand

- Flux 패턴을 사용한 많은 보일러플레이트를 가지지 않는 훅 기반의 api 모듈을 제공하는 라이브러리이다.
- 클로저를 활용하여 내부 상태를 관리함으로써 특정 라이브러리에 종속되지 않는 특징이 있다.
