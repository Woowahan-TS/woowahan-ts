# 2장 타입

### 목차
1. 타입은 왜 존재하는가
2. 타입스크립트의 특징
3. TS 컴파일러는 어떻게 타입을 인지하게 되는가?
4. 값과 타입은 어떻게 구분되는가?
5. enum, const enum
6. 원시/객체 타입
7. type과 interface

## 1. 타입은 왜 존재하는가
- 메모리에서 값을 효율적으로 읽어오기 위해서. 
	- 미리 어떤 타입의 값의 크기가 n 만큼이라는 것을 알면, 한 번에 읽어와야 할 값의 크기를 알기 때문에 손실 없이 한 번에 효율적으로 값을 읽어올 수 있다.
- 유효하지 않은 값이 들어왔을 때 런타임에서 발생할 수 있는 에러를 사전에 방지할 수 있다. 
	- 타입은 값이 가질 수 있는 유효한 범위를 의미한다.
	- 그래서 그 범위 외의 값이 인자로 들어왔을 때 코드 실행 이전에 에러를 표시해주기 때문에 프로그램이 깨지는 것을 방지할 수 있다.

## 2. 타입스크립트의 특징
- TS 가 컴파일 타임에 변수 타입이 결정되는 정적 타입 시스템인 이유도 위처럼 타입 안정성을 강화해 런타임에서 예측하지 못하는 에러를 방지하기 위한 이유가 크다. 
	- 컴파일이란 코드를 컴퓨터가 이해할 수 있는 기계어로 변환하는 과정이다. 
- TS 는 특이하게 컴파일 이후 타입에 대한 코드가 사라지고 자바스크립트로 변환되는데, 이는 현존하는 브라우저가 모두 자바스크립트를 기본 언어로 동작하기 때문에 호환성을 유지하기 위해서인 측면이 있다.
- 이런 특징 때문에 타입스크립트를 별도의 언어라기 보다, 자바스크립트의 슈퍼셋(확장), 자바스크립트에 타입이라는 레이어를 얹은 언어로 보는 견해도 있다.

## 3. TS 컴파일러는 어떻게 타입을 인지하게 되는가?
- 타입 시스템이란, 타입 검사기가 프로그램에 타입을 할당하는데 사용하는 규칙 집합을 의미한다 즉, 코드에 타입을 입힐 때 이러이러한 규칙으로 입혀주라~~ 라는 내용을 담고있다는 것.
- 두 가지 종류가 있는데, 
	- 명시적으로 이런 타입을 사용한다는 것을 컴파일러에 알려주어야 하는 타입 시스템
	- 자동으로 타입을 추론해주는 타입 시스템
- TS 는 이 두 가지를 모두 채용하여, 명시적으로도 OK, 자동 추론도 OK 하는 똑똑한 녀석이다.
- 타입 애너테이션 방식은, 명시적 선언을 의미.
```ts
	let isDone:boolean = false;
```
- 이런 애너테이션이 없어도 TS 는 자동추론이 가능하기 때문에 문제는 없다.
- 구조적 타이핑이란, 이름이 아닌 구조(structure)를 기반으로 같은가 다른가를 구분하는 것. 
    - 객체가 서로 다른 이름으로 구분되더라도, 가진 속성이 동일하다면 같은 타입으로 본다는 것.   
    - 자바스크립트가 본질적으로 덕 타이핑 언어이기 때문에, 슈퍼셋인 타입스크립트도 비슷한 개념을 차용한 것.
    
## 4. 값과 타입은 어떻게 구분되는가?
- 코드 문맥에 따라 서로 다른 네임스페이스에 따로 저장된다.
- 또한 컴파일 이후 타입 선언에 대한 내용은 제거되므로 충돌되지 않는다.
- 어떤 타입은 값이자 타입이 된다.
    - enum, class 


## 5. enum, const enum
- enum 은 값으로 존재하여 런타임 이후에도 사라지지 않음. 따라서 메모리 오버헤드가 있으며 양방향 매핑이 될 수 있기 때문에 상수를 관리하는데 쓰는게 맞는가라는 의문이 듬.
    - 다만 이터러블 하기 때문에 때에 따라서는 유용하게 쓸 수 있을 것 같기도 함.
- const enum 은 트리쉐이킹이 되기 때문에 최적화 측면에서는 더 유용하다. 
- 주로 상수값을 관리할 때 가독성을 높이고 자동완성의 도움을 받으려고 많이 사용했던 것 같은데, 객체를 as const 로 정의해 관리하는 방법도 있지만 enum 범위 내에 포함되는지 여부를 확인할 때의 문법이 너무 편하다.
```ts
if (value in VALUES) ...
```

## 6. 원시/객체 타입
- 자바스크립트와 다른 점은 값이 아닌 변수에 해당 타입의 값만 할당할 수 있게 강제한다는 점이다.
    - 그러니까 원시 래퍼 객체인 `String`과 `string`은 다르다는 것임.
- 원시 타입의 종류는 아래와 같다.
    - boolean
    - undefined
    - null
    - number
    - bigInt
    - string
    - symbol
- 객체 타입은 아래와 같다.
    - object -> 원시타입을 제외한 나머지 타입의 값을 유동적으로 할당할 수 있어 사실상 any 랑 크게 다르지 않다.
    - {} -> 빈 객체 혹은 이러이러한 프로퍼티가 포함될 객체 타입입니다..~ 라는 의미에서 사용되는 중괄호, 사실 Record 를 쓰는게 더 바람직.
    - array -> 배열인데 한 배열에 하나의 타입값만을 가질 수 있다.
    - fuction -> 자바스크립트에서는 object 지만 TS 에서는 별도 타입을 갖는다. 함수 자체의 타입을 `호출 시그니처` 라고 부른다.


## 7. type 과 interface 키워드
- 모두 타입에 별칭을 주기 위한 키워드
- 보통 값에 대한 정의는 type 을, 객체와 같은 복잡한 구조에서는 interface 를 사용 
- interface 의 경우 implements 를 사용해 다양한 기능을 조합하여 조금 더 OOP 스럽게 코드를 작성하는데 도움을 줌.
    - extends (상속)의 경우도 type 키워드를 썼을 때보다 더 명시적이고 간편해서 선호하는 편임.